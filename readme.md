# bingChat后端接口一站式部署

## 简介

这个程序只是封装了github上的一个api工具bing-chat

官方链接：[https://github.com/transitive-bullshit/bing-chat](https://github.com/transitive-bullshit/bing-chat)

本项目是对这个项目对一站式部署方式，它可以在写入配置文件后直接部署在服务器上长久运行

## 配置文件

配置文件就是文件夹目录下的config.json文件，其中只有两个值

```json
{
    "point": 18080,
    "cookie": ""
}
```
其中point是本地http协议监听的端口号， cookie是在bing官网登陆后访问一次newBing，打开开发者选项，在应用，cookie中找到`_U`这个值，把它直接粘贴在cookie后即可。

## 使用环境

node v18.15.0

npm 9.5.0

其他环境请自行测试，应该可以兼容低版本和高版本

## 项目运行

在package.json中已经有基础预设了，只需要下载库文件和执行即可。
首先运行
```shell
npm i
```
下载库文件，之后运行
```shell
npm run st
```
即可直接启动服务

## 接口样式
我自行设计了接口的样式，使用post命令，一共传入三个值

```json
{
  "model": 0,
  "val": "",
  "data": "null"
}
```
model：是选择使用的模式，微软提供了三个模式，分别是富有创意，平衡，精确，分别对应了数字格式的0，1，2，注意，当你使用富有创意时返回可能会非常慢，如果不想长时间等待的话可以给发送请求的服务器设置一个timeout时长，这样有助于提高效率。

val：是你这一次的问题，是字符串格式

data：是一个字符串的值，它有两种情况，当你是第一次提问时，请传入字符串的null，它代表你没有上一次的对话。如果你需要连续对话，那么data对应的值就是你上一个提问返回的对象的字符串格式，那个对象里包含这串对话的标识信息，从而实现连续对话，当然你选择了连续对话，那么模式是不会随着后来的改变而改变的，它会模式使用你第一个问题选择的模式。

另外，post命令并不是直接post，而是post [http://服务器ip地址:设置的端口/bing](#) 这个地址